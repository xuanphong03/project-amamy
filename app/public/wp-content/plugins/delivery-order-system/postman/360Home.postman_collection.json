{
	"info": {
		"_postman_id": "60401afe-e789-45e6-a15b-8c0dfe748ab6",
		"name": "360Home",
		"description": "Complete RESTful API collection for Okhub JWT Authentication WordPress plugin with Email Verification, OTP Reset, and Google Social Login",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "13993416",
		"_collection_link": "https://okhub1.postman.co/workspace/OKHUB-Workspace~a7fcf08f-3ed8-4dc6-8d31-48794f00df3f/collection/13993416-60401afe-e789-45e6-a15b-8c0dfe748ab6?action=share&source=collection_link&creator=13993416"
	},
	"item": [
		{
			"name": "üîê Authentication",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Auto-save tokens to environment variables",
									"if (pm.response.code === 200) {",
									"    const responseJson = pm.response.json();",
									"    ",
									"    if (responseJson.success && responseJson.data && responseJson.data.token) {",
									"        // Save access token",
									"        pm.environment.set('access_token', responseJson.data.token.accessToken);",
									"        ",
									"        // Save refresh token",
									"        pm.environment.set('refresh_token', responseJson.data.token.refreshToken);",
									"        ",
									"        // Save user info",
									"        if (responseJson.data) {",
									"            pm.environment.set('user_id', responseJson.data.id);",
									"            pm.environment.set('user_email', responseJson.data.email);",
									"            pm.environment.set('username', responseJson.data.username);",
									"        }",
									"        ",
									"        console.log('‚úÖ Tokens saved to environment variables');",
									"        console.log('Access Token:', responseJson.data.token.accessToken.substring(0, 20) + '...');",
									"        console.log('User ID:', responseJson.data.id);",
									"    } else {",
									"        console.log('‚ùå Login failed or no token received');",
									"    }",
									"} else {",
									"    console.log('‚ùå HTTP Error:', pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"leetaam.okhub@gmail.com\",\n    \"password\": \"pad123!@#\"\n}\n// {\n//     \"email\": \"admin@360home.local\",\n//     \"password\": \"pad123!@#\"\n// }\n// {\n//     \"email\": \"360home@test.com\",\n//     \"password\": \"pad123!@#\"\n// }"
						},
						"url": {
							"raw": "{{base_url}}/v1/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"auth",
								"login"
							]
						},
						"description": "User login with email/username and password"
					},
					"response": []
				},
				{
					"name": "Register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Auto-save tokens to environment variables after registration",
									"if (pm.response.code === 200) {",
									"    const responseJson = pm.response.json();",
									"    ",
									"    if (responseJson.success && responseJson.token) {",
									"        // Save access token",
									"        pm.environment.set('access_token', responseJson.token.accessToken);",
									"        ",
									"        // Save refresh token",
									"        pm.environment.set('refresh_token', responseJson.token.refreshToken);",
									"        ",
									"        // Save user info",
									"        if (responseJson.data) {",
									"            pm.environment.set('user_id', responseJson.data.id);",
									"            pm.environment.set('user_email', responseJson.data.email);",
									"            pm.environment.set('username', responseJson.data.username);",
									"        }",
									"        ",
									"        console.log('‚úÖ Registration successful - Tokens saved to environment variables');",
									"        console.log('Access Token:', responseJson.token.accessToken.substring(0, 20) + '...');",
									"        console.log('User ID:', responseJson.data?.id);",
									"    } else {",
									"        console.log('‚ùå Registration failed or no token received');",
									"    }",
									"} else {",
									"    console.log('‚ùå HTTP Error:', pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"leetaam.lt@gmail.com\",\n    \"password\": \"pad123!@#\",\n    \"first_name\": \"LE MINH TAM\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"auth",
								"register"
							]
						},
						"description": "User registration with username, email, password and optional first_name. Requires OTP verification if Email Verification is enabled in settings."
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Auto-update tokens after refresh",
									"if (pm.response.code === 200) {",
									"    const responseJson = pm.response.json();",
									"    ",
									"    if (responseJson.success && responseJson.token) {",
									"        // Update access token",
									"        pm.environment.set('access_token', responseJson.token.accessToken);",
									"        ",
									"        // Update refresh token",
									"        pm.environment.set('refresh_token', responseJson.token.refreshToken);",
									"        ",
									"        console.log('‚úÖ Tokens refreshed and saved to environment variables');",
									"        console.log('New Access Token:', responseJson.token.accessToken.substring(0, 20) + '...');",
									"    } else {",
									"        console.log('‚ùå Token refresh failed or no token received');",
									"    }",
									"} else {",
									"    console.log('‚ùå HTTP Error:', pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refresh_token\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/auth/refresh",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"auth",
								"refresh"
							]
						},
						"description": "Refresh access token using refresh token"
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"logout"
							]
						},
						"description": "Logout current session"
					},
					"response": []
				},
				{
					"name": "Logout All Devices",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/logout-all",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"logout-all"
							]
						},
						"description": "Logout from all devices"
					},
					"response": []
				}
			],
			"description": "Authentication endpoints for login, register, refresh, and logout"
		},
		{
			"name": "üìß Registration OTP",
			"item": [
				{
					"name": "Verify Registration OTP",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Auto-save tokens to environment variables after OTP verification",
									"if (pm.response.code === 200) {",
									"    const responseJson = pm.response.json();",
									"    ",
									"    if (responseJson.success && responseJson.token) {",
									"        // Save access token",
									"        pm.environment.set('access_token', responseJson.token.accessToken);",
									"        ",
									"        // Save refresh token",
									"        pm.environment.set('refresh_token', responseJson.token.refreshToken);",
									"        ",
									"        // Save user info",
									"        if (responseJson.data) {",
									"            pm.environment.set('user_id', responseJson.data.id);",
									"            pm.environment.set('user_email', responseJson.data.email);",
									"            pm.environment.set('username', responseJson.data.username);",
									"        }",
									"        ",
									"        console.log('‚úÖ Registration OTP verified - Tokens saved to environment variables');",
									"        console.log('Access Token:', responseJson.token.accessToken.substring(0, 20) + '...');",
									"        console.log('User ID:', responseJson.data?.id);",
									"    } else {",
									"        console.log('‚ùå OTP verification failed or no token received');",
									"    }",
									"} else {",
									"    console.log('‚ùå HTTP Error:', pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"leetaam.lt@gmail.com\",\n    \"otp_code\": \"479741\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/register/verify",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"register",
								"verify"
							]
						},
						"description": "Verify OTP code for user registration. Only available when Email Verification is enabled in settings. Returns JWT tokens upon successful verification."
					},
					"response": []
				},
				{
					"name": "Resend Registration OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"leetaam.okhub@gmail.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/register/resend-otp",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"register",
								"resend-otp"
							]
						},
						"description": "Resend OTP code for user registration verification. Only available when Email Verification is enabled in settings."
					},
					"response": []
				}
			],
			"description": "Registration OTP verification endpoints for email verification during user registration"
		},
		{
			"name": "üë§ User Management",
			"item": [
				{
					"name": "Get Current User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/auth/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"auth",
								"me"
							]
						},
						"description": "Get current authenticated user information including email_verified field when Email Verification is enabled"
					},
					"response": []
				},
				{
					"name": "Update Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"L√™ T√¢m\",\n    \"last_name\": \"\",\n    \"phone\": \"+1234567890\",\n    \"gender\": \"male\",\n    \"date_of_birth\": \"1990-01-01\",\n    \"city\": \"Ha Noi\",\n    \"district\": \"Ha Dong\",\n    \"address\": \"Kien Hung\"\n\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"auth",
								"profile"
							]
						},
						"description": "Update user profile information"
					},
					"response": []
				},
				{
					"name": "Change Password",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"current_password\": \"newpassword123\",\n    \"new_password\": \"pad123!@#\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/users/me/password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"users",
								"me",
								"password"
							]
						},
						"description": "Change user password"
					},
					"response": []
				},
				{
					"name": "Get User Sessions",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/users/me/sessions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"users",
								"me",
								"sessions"
							]
						},
						"description": "Get user active sessions"
					},
					"response": []
				},
				{
					"name": "upload avatar",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "avatar",
									"type": "file",
									"src": "/Users/taamlee/Projects/raw/Carezone/Favicon.png"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/v1/auth/avatar",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"auth",
								"avatar"
							]
						}
					},
					"response": []
				}
			],
			"description": "User management endpoints for profile and session management. Returns email_verified field when Email Verification is enabled"
		},
		{
			"name": "üîë Password Reset",
			"item": [
				{
					"name": "Forgot Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"user@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/password/forgot",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"password",
								"forgot"
							]
						},
						"description": "Request password reset email"
					},
					"response": []
				},
				{
					"name": "Reset Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"token\": \"{{reset_token}}\",\n    \"new_password\": \"newpassword123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/password/reset",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"password",
								"reset"
							]
						},
						"description": "Reset password with token"
					},
					"response": []
				},
				{
					"name": "Validate Reset Token",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/password/validate-token?token={{reset_token}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"password",
								"validate-token"
							],
							"query": [
								{
									"key": "token",
									"value": "{{reset_token}}"
								}
							]
						},
						"description": "Validate password reset token"
					},
					"response": []
				}
			],
			"description": "Password reset endpoints using email tokens"
		},
		{
			"name": "üîê OTP Password Reset",
			"item": [
				{
					"name": "Request OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"leetaam.okhub@gmail.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/password/otp/request",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"password",
								"otp",
								"request"
							]
						},
						"description": "Request OTP for password reset"
					},
					"response": []
				},
				{
					"name": "Reset Password with OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"user@example.com\",\n    \"otp_code\": \"123456\",\n    \"new_password\": \"newpassword123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/password/otp/reset",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"password",
								"otp",
								"reset"
							]
						},
						"description": "Reset password with OTP code"
					},
					"response": []
				},
				{
					"name": "Verify OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"leetaam.okhub@gmail.com\",\n    \"otp_code\": \"553255\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/password/otp/verify",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"password",
								"otp",
								"verify"
							]
						},
						"description": "Verify OTP code only (without resetting password)"
					},
					"response": []
				}
			],
			"description": "OTP-based password reset endpoints"
		},
		{
			"name": "üåê Social Login",
			"item": [
				{
					"name": "Google Login (ID Token)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Auto-save tokens after social login",
									"if (pm.response.code === 200) {",
									"    const responseJson = pm.response.json();",
									"    ",
									"    if (responseJson.success && responseJson.token) {",
									"        // Save access token",
									"        pm.environment.set('access_token', responseJson.token.accessToken);",
									"        ",
									"        // Save refresh token",
									"        pm.environment.set('refresh_token', responseJson.token.refreshToken);",
									"        ",
									"        // Save user info",
									"        if (responseJson.data) {",
									"            pm.environment.set('user_id', responseJson.data.id);",
									"            pm.environment.set('user_email', responseJson.data.email);",
									"            pm.environment.set('username', responseJson.data.username);",
									"        }",
									"        ",
									"        console.log('‚úÖ Google login successful - Tokens saved to environment variables');",
									"        console.log('Access Token:', responseJson.token.accessToken.substring(0, 20) + '...');",
									"        console.log('User ID:', responseJson.data?.id);",
									"    } else {",
									"        console.log('‚ùå Google login failed or no token received');",
									"    }",
									"} else {",
									"    console.log('‚ùå HTTP Error:', pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"provider\": \"google\",\n    \"idToken\": \"ya29.a0AS3H6Nz8YJe7P1T8XEhFlPO-nuPFGqE-qajUhugcIT_Z4N3PjxL3WSyj0elpB54lAXVDHq7EhS2kmmre4peRq6YX0Jxdj6DOHq6J0VOR50Fki-DOtjhzuEvLBM2KSZAJdwJz4XU3UpabSS4hsUWq6o5uCxxJs65jNtPom9PGFXVvDyJIsL2StppLmEqG7Y248ViM_rAaCgYKAYMSARQSFQHGX2MihjGECdNCD__1W77a8WJ1-Q0206\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/social/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"social",
								"login"
							]
						},
						"description": "Google login using ID token (recommended method). Google users automatically have email_verified: true"
					},
					"response": []
				},
				{
					"name": "Google Login (Access Token)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"provider\": \"google\",\n    \"accessToken\": \"ya29.a0AS3H6Nz8YJe7P1T8XEhFlPO-nuPFGqE-qajUhugcIT_Z4N3PjxL3WSyj0elpB54lAXVDHq7EhS2kmmre4peRq6YX0Jxdj6DOHq6J0VOR50Fki-DOtjhzuEvLBM2KSZAJdwJz4XU3UpabSS4hsUWq6o5uCxxJs65jNtPom9PGFXVvDyJIsL2StppLmEqG7Y248ViM_rAaCgYKAYMSARQSFQHGX2MihjGECdNCD__1W77a8WJ1-Q0206\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/wp-json/okhub-jwt/v1/auth/social/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"wp-json",
								"okhub-jwt",
								"v1",
								"auth",
								"social",
								"login"
							]
						},
						"description": "Google login using access token. Google users automatically have email_verified: true"
					},
					"response": []
				},
				{
					"name": "Google Login (Fallback)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"provider\": \"google\",\n    \"email\": \"user@gmail.com\",\n    \"googleId\": \"1234567890\",\n    \"name\": \"John\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/auth/social/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"auth",
								"social",
								"login"
							]
						},
						"description": "Google login using fallback data (less secure, for development only). Google users automatically have email_verified: true"
					},
					"response": []
				}
			],
			"description": "Social login endpoints for Google authentication with automatic email verification"
		},
		{
			"name": "Sales",
			"item": [
				{
					"name": "Get All",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{base_url}}/v1/sales",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"sales"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get one",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{base_url}}/v1/sales/22386",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"sales",
								"22386"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customers_info\": {\n        \"customers_name\": \"KH c·ªßa 360home\",\n        \"customers_phone\": \"090000\",\n        \"customers_email\": \"test@home.com\"\n    },\n    \"customers_apartment\": {\n        \"building\": \"S1\",\n        \"floor\": \"10\",\n        \"apartment_id\": \"S1.10\",\n        \"style\": \"CW\",\n        \"customers_status\": \"ƒêang t∆∞ v·∫•n\"\n    },\n    \"sales_info\": {\n        \"id\": 24\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/v1/sales",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"sales"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customers_info\": {\n        \"customers_name\": \"Nguyen Van A\",\n        \"customers_phone\": \"0987654321\",\n        \"customers_email\": \"test@home123.com\",\n        \"date_of_birth\": \"20/12/2025\",\n        \"customers_address\": \"S·ªë 24 t·ªï 3 ph∆∞·ªùng Nam Trung, Qu·∫≠n Thanh Xu√¢n, th√†nh ph·ªë H√† N·ªôi 1\"\n    },\n    \"customers_apartment\": {\n        \"building\": \"S12\",\n        \"floor\": \"102\",\n        \"apartment_id\": \"S1.102\",\n        \"style\": \"CW2\",\n        \"customers_status\": \"ƒêang t∆∞ v·∫•n\"\n    },\n    \"sales_info\": {\n        \"commission\": \"11000000VNƒê\"\n    },\n    \"payment_disbursed_value\": {\n        \"contract_value\": \"5000000000VNƒê\",\n        \"payment\": \"Thanh to√°n ƒë·ª£t 1\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/v1/sales/22389",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"sales",
								"22389"
							]
						}
					},
					"response": []
				},
				{
					"name": "sales/buildings",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customers_info\": {\n        \"customers_name\": \"KH c·ªßa 360home\",\n        \"customers_phone\": \"090000\",\n        \"customers_email\": \"test@home.com\"\n    },\n    \"customers_apartment\": {\n        \"building\": \"S1\",\n        \"floor\": \"10\",\n        \"apartment_id\": \"S1.10\",\n        \"style\": \"CW\",\n        \"customers_status\": \"ƒêang t∆∞ v·∫•n\"\n    },\n    \"sales_info\": {\n        \"id\": 24\n    }\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/sales/buildings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"sales",
								"buildings"
							]
						}
					},
					"response": []
				},
				{
					"name": "sales/floors",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{base_url}}/v1/sales/floors?building=Elite 1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"sales",
								"floors"
							],
							"query": [
								{
									"key": "building",
									"value": "Elite 1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "sales/styles",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{base_url}}/v1/sales/styles",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"sales",
								"styles"
							]
						}
					},
					"response": []
				},
				{
					"name": "sales/users",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{base_url}}/v1/sales/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"sales",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "sales/users/views",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": \"sale01\",\n    \"password\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/sales/users/views",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"sales",
								"users",
								"views"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Quotes",
			"item": [
				{
					"name": "Create Quote",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var responseJSON;",
									"try {",
									"    responseJSON = pm.response.json();",
									"} catch (e) {",
									"    responseJSON = { raw: pm.response.text() };",
									"}",
									"",
									"// Existing tests",
									"pm.test(\"Response status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									"",
									"pm.test(\"Response content type is application/json\", function () {",
									"    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
									"});",
									"",
									"pm.test(\"Response body contains the 'data' key\", function () {",
									"    pm.expect(responseJSON).to.have.property('data');",
									"});",
									"",
									"// ------ Visualizer: Render JSON as a table ------",
									"// This visualizer handles objects, arrays and the current shape where data can be HTML string.",
									"const template = `",
									"<style>",
									"  body { font-family: Arial, sans-serif; }",
									"  .note { margin: 8px 0 12px; color: #555; }",
									"  table { border-collapse: collapse; width: 100%; }",
									"  th, td { border: 1px solid #ddd; padding: 8px; font-size: 12px; }",
									"  th { background: #f5f5f5; text-align: left; }",
									"  .code { font-family: Menlo, Consolas, monospace; white-space: pre-wrap; word-break: break-word; }",
									"</style>",
									"<div class=\"note\">Automatically generated view of the response.</div>",
									"{{#if table.rows}}",
									"  <table>",
									"    <thead>",
									"      <tr>",
									"        {{#each table.headers}}",
									"          <th>{{this}}</th>",
									"        {{/each}}",
									"      </tr>",
									"    </thead>",
									"    <tbody>",
									"      {{#each table.rows}}",
									"        <tr>",
									"          {{#each this}}",
									"            <td class=\"code\">{{this}}</td>",
									"          {{/each}}",
									"        </tr>",
									"      {{/each}}",
									"    </tbody>",
									"  </table>",
									"{{else}}",
									"  <div class=\"note\">Nothing to display in tabular form. Showing raw JSON below:</div>",
									"  <pre class=\"code\">{{raw}}</pre>",
									"{{/if}}",
									"`;",
									"",
									"function normalize(value) {",
									"    if (value === null || value === undefined) return '';",
									"    if (typeof value === 'object') return JSON.stringify(value);",
									"    return String(value);",
									"}",
									"",
									"function toTable(data) {",
									"    // If array of objects -> headers from union of keys",
									"    if (Array.isArray(data)) {",
									"        const headersSet = new Set();",
									"        data.forEach(item => {",
									"            if (item && typeof item === 'object' && !Array.isArray(item)) {",
									"                Object.keys(item).forEach(k => headersSet.add(k));",
									"            } else {",
									"                headersSet.add('value');",
									"            }",
									"        });",
									"        const headers = Array.from(headersSet);",
									"        const rows = data.map(item => {",
									"            if (item && typeof item === 'object' && !Array.isArray(item)) {",
									"                return headers.map(h => normalize(item[h]));",
									"            }",
									"            return headers.map(h => h === 'value' ? normalize(item) : '');",
									"        });",
									"        return { headers, rows };",
									"    }",
									"",
									"    // If plain object -> single row table",
									"    if (data && typeof data === 'object') {",
									"        const headers = Object.keys(data);",
									"        const rows = [headers.map(h => normalize(data[h]))];",
									"        return { headers, rows };",
									"    }",
									"",
									"    // Primitive -> no table",
									"    return { headers: [], rows: [] };",
									"}",
									"",
									"function createPayload() {",
									"    let data = responseJSON;",
									"",
									"    // Handle current API shape where data can be HTML string",
									"    // If response has { success, data, message }, still try to tabulate",
									"    if (data && typeof data === 'object' && 'success' in data && 'message' in data) {",
									"        // If data.data is a string (e.g., HTML), keep as raw alongside top-level fields",
									"        const shaped = Object.assign({}, data);",
									"        return {",
									"            table: toTable(shaped),",
									"            raw: JSON.stringify(data, null, 2)",
									"        };",
									"    }",
									"",
									"    return {",
									"        table: toTable(data),",
									"        raw: (typeof data === 'string') ? data : JSON.stringify(data, null, 2)",
									"    };",
									"}",
									"",
									"pm.visualizer.set(template, createPayload());"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"apartment_id\": 1,\r\n    \"style_id\": 1,\r\n    \"customer_name\": \"Mr Lee\",\r\n    \"phone\": \"0987654321\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/v1/quotes",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"quotes"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Projects",
			"item": [
				{
					"name": "Get all project",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"apartment_id\": 1,\r\n    \"style_id\": 1,\r\n    \"customer_name\": \"Mr Lee\",\r\n    \"phone\": \"0987654321\"\r\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/projects",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"projects"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all building",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/v1/projects/lumi-hanoi",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"projects",
								"lumi-hanoi"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get floor",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/v1/projects/lumi-hanoi/signature-1/2-1214-17/04",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"projects",
								"lumi-hanoi",
								"signature-1",
								"2-1214-17",
								"04"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get building floor",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/v1/projects/ava-center/mat-bang-toa-prestige1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"projects",
								"ava-center",
								"mat-bang-toa-prestige1"
							]
						}
					},
					"response": []
				},
				{
					"name": "getPDF",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"apartment_id\": \"S.B2\",\n  \"building\": \"Signature 1\",\n  \"floor\": \"2-12,14-17\",\n  \"apartment_number\": \"04\",\n  \"style_id\": 133\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/v1/pdf-design",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"pdf-design"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Apartments",
			"item": [
				{
					"name": "get all apartment",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/v1/apartments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"apartments"
							]
						}
					},
					"response": []
				},
				{
					"name": "get apartment",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/v1/projects/lumi-hanoi/prestige-2/13/06",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"projects",
								"lumi-hanoi",
								"prestige-2",
								"13",
								"06"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Wishlist",
			"item": [
				{
					"name": "get all wishlist",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/v1/wishlist",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"wishlist"
							]
						}
					},
					"response": []
				},
				{
					"name": "add wishlist",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"apartment_id\": 19335,\n    \"style_id\": 141,\n    \"project_name\": \"LUMI HANOI\",\n    \"project_slug\": \"lumi-hanoi\",\n    \"building_name\": \"Prestige 2\",\n    \"building_slug\": \"prestige-2\",\n    \"floor_name\": \"13\",\n    \"floor_slug\": \"13\",\n    \"apartment_number\": \"06\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/v1/wishlist",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"wishlist"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete wishlist",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/v1/wishlist/1763090400",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"wishlist",
								"1763090400"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Options",
			"item": [
				{
					"name": "get options",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/v1/options?fields=header,footer",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"options"
							],
							"query": [
								{
									"key": "fields",
									"value": "header,footer"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Pages",
			"item": [
				{
					"name": "get pages",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/v1/pages/1171?fields=home_fields,home_fields_copy",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"pages",
								"1171"
							],
							"query": [
								{
									"key": "fields",
									"value": "home_fields,home_fields_copy"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Blogs",
			"item": [
				{
					"name": "get all blogs",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/v1/blogs",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"blogs"
							]
						}
					},
					"response": []
				},
				{
					"name": "get blogs",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/v1/blogs/hello-world",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"blogs",
								"hello-world"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{access_token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "https://yourdomain.com",
			"description": "Base URL of your WordPress site"
		},
		{
			"key": "access_token",
			"value": "",
			"description": "JWT access token (auto-filled after login)"
		},
		{
			"key": "refresh_token",
			"value": "",
			"description": "JWT refresh token (auto-filled after login)"
		},
		{
			"key": "reset_token",
			"value": "",
			"description": "Password reset token (from forgot password email)"
		},
		{
			"key": "user_id",
			"value": "",
			"description": "Current user ID (auto-filled after login)"
		},
		{
			"key": "user_email",
			"value": "",
			"description": "Current user email (auto-filled after login)"
		},
		{
			"key": "username",
			"value": "",
			"description": "Current username (auto-filled after login)"
		}
	]
}